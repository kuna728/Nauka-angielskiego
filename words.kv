#:import slownik main.slownik
<MainScreen>:
	on_enter: 
		root.inicjuj()
		text_input.text = 'ustaw i zacznij wpisywać'
		opcje.visible = True
		mainlabel.text = ''
		status.value = 0
		text_input.readonly = False
	GridLayout:
		cols: 1
		StackLayout:
			cols: 1
			Label:
				id: mainlabel
				font_size: 50
				size_hint: (1, 0.8)
				multiline: True
				text_size: self.size
				valign: 'middle'
				halign: 'center'
			GridLayout:
				id: opcje
				visible: True
				cols: 2
				size_hint: (1, 0.12) if self.visible else (0,0)
				opacity: 1 if self.visible else 0
				Label:
					id: ileslowek
					text: 'Ile słowek?    '
				Button:
					text: 'Start!'
					on_press:
						root.inicjuj()
				Slider:
					id: sliderslowek
					disabled: switcher.active
					max: len(slownik)-1
					value: 0
					on_touch_move: 
						ileslowek.text = 'Ile słowek?    [' + str(int(self.value)) + ']'
				GridLayout:
					cols: 2
					Label:
						text: 'Wszystkie:'
					Switch:
						id: switcher
						active: False
						on_active:
							sliderslowek.value = sliderslowek.max
							ileslowek.text = 'Ile słowek?    [' + str(int(sliderslowek.value)) + ']'

			ProgressBar:
				id: status
				value: 0
				max: len(slownik)
				size_hint_y: None
				height: 50
		TextInput:
			text_validate_unfocus: False
			id: text_input
			size_hint_y: None
			height: 100
			text: 'ustaw i zacznij wpisywać'
			font_size: 50
			multiline: False
			on_text_validate: 
				status.value+=1
				self.focus: True
				root.runda()

<ScoreScreen>:
	on_enter: 
		root.podsumowanie()
	StackLayout:
		Label:
			id: podsumowanie
			size_hint_y: 0.8
		Button:
			text: 'Powrot'
			on_press: root.manager.current = 'main'

